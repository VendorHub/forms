{
  "swagger": "2.0",
  "info": {
    "title": "Forms API",
    "version": "1.0"
  },
  "host": "example.com",
  "paths": {
    "/tenants/{tenantId}/forms/{formId}/submissions": {
      "post": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "properties": {}
            }
          }
        },
        "summary": "Submit Form",
        "operationId": "submit-form",
        "parameters": [
          {
            "in": "formData",
            "name": "fileFoo",
            "type": "file"
          }
        ]
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ],
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/submission"
              }
            }
          }
        },
        "summary": "List Submissions",
        "operationId": "list-submissions"
      }
    },
    "/tenants/{tenantId}/forms": {
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/form"
              }
            }
          }
        },
        "summary": "List Forms",
        "operationId": "list-forms"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ],
      "post": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/form"
            }
          }
        },
        "operationId": "create-form",
        "summary": "Create Form",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/create-form-request"
            }
          }
        ]
      }
    },
    "/tenants/{tenantId}/forms/{formId}/webhooks": {
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/webhook"
              }
            }
          }
        },
        "summary": "List Webhooks",
        "operationId": "list-webhooks"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ],
      "post": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/webhook"
            }
          }
        },
        "summary": "Create Webhook",
        "operationId": "create-webhook",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "schema": {
              "$ref": "#/definitions/create-webhook-request"
            }
          }
        ]
      }
    },
    "/tenants/{tenantId}/forms/{formId}": {
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/form"
            }
          }
        },
        "summary": "Get Form",
        "operationId": "get-form"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ]
    },
    "/tenants/{tenantId}/forms/{formId}/submissions/{submissionId}": {
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/submission-detailed"
            }
          }
        },
        "summary": "Get Submission",
        "operationId": "get-submission"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "submissionId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ]
    },
    "/tenants/{tenantId}/forms/{formId}/submissions/{submissionId}/attachments/{attachmentName}": {
      "get": {
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "file",
              "properties": {}
            }
          }
        },
        "summary": "Get Submission Attachment",
        "operationId": "get-submission-attachment"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "submissionId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "attachmentName",
          "in": "path",
          "type": "string",
          "required": true
        }
      ]
    },
    "/tenants/{tenantId}/forms/{formId}/webhooks/{webhookId}": {
      "delete": {
        "responses": {},
        "summary": "Delete Webhook",
        "operationId": "delete-webhook"
      },
      "parameters": [
        {
          "name": "tenantId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "formId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        },
        {
          "name": "webhookId",
          "in": "path",
          "type": "string",
          "format": "uuid",
          "required": true
        }
      ]
    }
  },
  "definitions": {
    "form": {
      "type": "object",
      "title": "Form",
      "properties": {
        "formId": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "fields": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/form-fields"
          }
        },
        "submissionCount": {
          "type": "integer"
        },
        "submissionsThisWeek": {
          "type": "integer"
        },
        "submissionsLastWeek": {
          "type": "integer"
        },
        "createdOn": {
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "formId"
      ]
    },
    "form-fields": {
      "type": "object",
      "title": "FormField",
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    },
    "submission-detailed": {
      "type": "object",
      "title": "Submission Detail",
      "properties": {
        "formId": {
          "type": "string",
          "format": "uuid"
        },
        "submissionId": {
          "type": "string",
          "format": "uuid"
        },
        "submittedOn": {
          "type": "string",
          "format": "date-time"
        },
        "fields": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "attachments": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/submission-attachment"
          }
        }
      },
      "required": [
        "formId",
        "submissionId",
        "submittedOn"
      ]
    },
    "submission-field": {
      "type": "object",
      "title": "SubmissionField",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "submission-attachment": {
      "type": "object",
      "title": "SubmissionAttachment",
      "properties": {
        "fileName": {
          "type": "string"
        },
        "length": {
          "type": "integer"
        },
        "mimeType": {
          "type": "string"
        }
      }
    },
    "submission": {
      "type": "object",
      "title": "Submission",
      "properties": {
        "submissionId": {
          "type": "string",
          "format": "uuid"
        },
        "formId": {
          "type": "string",
          "format": "uuid"
        },
        "submittedOn": {
          "type": "string",
          "format": "date"
        },
        "fieldCount": {
          "type": "integer"
        },
        "attachmentCount": {
          "type": "integer"
        }
      },
      "required": [
        "submissionId",
        "formId",
        "submittedOn"
      ]
    },
    "create-form-request": {
      "type": "object",
      "title": "Create Form Request",
      "properties": {
        "name": {
          "type": "string"
        },
        "fields": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/form-fields"
          }
        }
      },
      "required": [
        "name",
        "fields"
      ]
    },
    "create-webhook-request": {
      "type": "object",
      "title": "Create Webhook Request",
      "properties": {
        "notificationUri": {
          "type": "string"
        }
      }
    },
    "webhook": {
      "type": "object",
      "title": "Webhook",
      "properties": {
        "webhookId": {
          "type": "string",
          "format": "uuid"
        },
        "createdOn": {
          "type": "string",
          "format": "date-time"
        },
        "notificationUri": {
          "type": "string"
        }
      },
      "required": [
        "webhookId",
        "createdOn",
        "notificationUri"
      ]
    }
  },
  "parameters": {}
}